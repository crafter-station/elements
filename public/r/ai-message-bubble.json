{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ai-message-bubble",
  "title": "AI Message Bubble",
  "description": "Chat message component with user/assistant variants and copy functionality",
  "dependencies": ["lucide-react"],
  "registryDependencies": ["button"],
  "files": [
    {
      "path": "registry/default/blocks/ai/ai-message-bubble/components/elements/ai-message-bubble.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\n\nimport { Check, Copy, User } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport { Button } from \"@/components/ui/button\";\n\ntype MessageRole = \"user\" | \"assistant\";\n\ninterface AiMessageBubbleProps {\n  role: MessageRole;\n  content: string;\n  timestamp?: Date;\n  avatar?: React.ReactNode;\n  isStreaming?: boolean;\n  className?: string;\n}\n\nexport function AiMessageBubble({\n  role,\n  content,\n  timestamp,\n  avatar,\n  isStreaming = false,\n  className,\n}: AiMessageBubbleProps) {\n  const [copied, setCopied] = React.useState(false);\n\n  const isUser = role === \"user\";\n\n  const handleCopy = React.useCallback(async () => {\n    await navigator.clipboard.writeText(content);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  }, [content]);\n\n  const defaultAvatar = isUser ? (\n    <div className=\"flex size-8 items-center justify-center rounded-full bg-primary text-primary-foreground\">\n      <User className=\"size-4\" />\n    </div>\n  ) : (\n    <div className=\"flex size-8 items-center justify-center rounded-full bg-muted\">\n      <svg\n        className=\"size-4\"\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      >\n        <title>AI</title>\n        <path d=\"M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z\" />\n        <path d=\"M7.5 13a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0Z\" />\n        <path d=\"M13.5 13a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0Z\" />\n        <path d=\"M8 17h8\" />\n      </svg>\n    </div>\n  );\n\n  return (\n    <div\n      data-slot=\"ai-message-bubble\"\n      role=\"article\"\n      aria-label={isUser ? \"Your message\" : \"AI response\"}\n      className={cn(\n        \"group flex gap-3\",\n        isUser && \"flex-row-reverse\",\n        className\n      )}\n    >\n      <div className=\"shrink-0\">{avatar || defaultAvatar}</div>\n\n      <div\n        className={cn(\n          \"relative max-w-[80%] rounded-2xl px-4 py-3\",\n          isUser\n            ? \"bg-primary text-primary-foreground\"\n            : \"bg-muted text-foreground\"\n        )}\n      >\n        <div\n          className=\"prose prose-sm dark:prose-invert max-w-none\"\n          aria-live={isStreaming ? \"polite\" : undefined}\n        >\n          <p className=\"m-0 whitespace-pre-wrap\">{content}</p>\n          {isStreaming && (\n            <span className=\"ml-1 inline-block h-4 w-1 animate-pulse bg-current will-change-[opacity]\" />\n          )}\n        </div>\n\n        {timestamp && (\n          <time className=\"mt-1 block text-[10px] opacity-60\">\n            {timestamp.toLocaleTimeString([], {\n              hour: \"2-digit\",\n              minute: \"2-digit\",\n            })}\n          </time>\n        )}\n\n        {!isUser && !isStreaming && (\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"absolute -right-10 top-1 size-7 opacity-0 transition-opacity group-hover:opacity-100\"\n            onClick={handleCopy}\n          >\n            {copied ? (\n              <Check className=\"size-3.5 text-green-500\" />\n            ) : (\n              <Copy className=\"size-3.5\" />\n            )}\n            <span className=\"sr-only\">Copy message</span>\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport type { AiMessageBubbleProps, MessageRole };\n",
      "type": "registry:component"
    }
  ],
  "docs": "Role-based chat bubbles with avatars, timestamps, and copy-on-hover for AI responses.",
  "categories": ["ai"],
  "type": "registry:ui"
}
