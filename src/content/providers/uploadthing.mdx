---
title: UploadThing
description: File upload components with drag-and-drop and progress tracking
category: File Upload
brandColor: "#F97316"
---

## Overview

File upload with button and dropzone variants. Progress tracking and analytics built-in.

## Components

### Upload Button

Simple upload button.

<ComponentPreviewItem
  componentKey="uploadthing-upload-button"
  installUrl="@elements/uploadthing-button"
  category="File Upload"
  name="UploadThing"
>
  <UploadButtonPreview />
</ComponentPreviewItem>

```tsx
import { UploadThingButton } from "@/components/elements/uploadthing/upload-button";

export function MyUploader() {
  return (
    <UploadThingButton
      endpoint="imageUploader"
      onUploadComplete={(files) => console.log(files)}
      onUploadError={(error) => console.error(error)}
    />
  );
}
```

### Upload Dropzone

Drag-and-drop with progress.

<ComponentPreviewItem
  componentKey="uploadthing-upload-dropzone"
  installUrl="@elements/uploadthing-dropzone"
  category="File Upload"
  name="UploadThing"
>
  <UploadDropzonePreview />
</ComponentPreviewItem>

```tsx
import { UploadThingDropzone } from "@/components/elements/uploadthing/upload-dropzone";

export function FileUploader() {
  return (
    <UploadThingDropzone
      endpoint="imageUploader"
      maxFiles={4}
      onUploadComplete={(files) => console.log(files)}
    />
  );
}
```

### Avatar Uploader

Circular avatar uploader with preview and fallback.

<ComponentPreviewItem
  componentKey="uploadthing-avatar"
  installUrl="@elements/uploadthing-avatar"
  category="File Upload"
  name="UploadThing Avatar"
>
  <UploadThingAvatar />
</ComponentPreviewItem>

```tsx
import { UploadThingAvatar } from "@/components/elements/uploadthing/uploadthing-avatar";

export function ProfileAvatar() {
  const [avatar, setAvatar] = useState<string | null>(null);
  
  return (
    <UploadThingAvatar
      value={avatar}
      onChange={setAvatar}
      size="lg"
      fallback="JD"
    />
  );
}
```

### Image Grid

Multi-image grid uploader with configurable columns.

<ComponentPreviewItem
  componentKey="uploadthing-image-grid"
  installUrl="@elements/uploadthing-image-grid"
  category="File Upload"
  name="UploadThing Image Grid"
>
  <UploadThingImageGrid />
</ComponentPreviewItem>

```tsx
import { UploadThingImageGrid } from "@/components/elements/uploadthing/uploadthing-image-grid";

export function GalleryUploader() {
  const [images, setImages] = useState<string[]>([]);
  
  return (
    <UploadThingImageGrid
      value={images}
      onChange={setImages}
      maxImages={9}
      columns={3}
    />
  );
}
```

### File Card

Display uploaded files with actions.

<ComponentPreviewItem
  componentKey="uploadthing-file-card"
  installUrl="@elements/uploadthing-file-card"
  category="File Upload"
  name="UploadThing File Card"
>
  <UploadThingFileCard />
</ComponentPreviewItem>

```tsx
import { UploadThingFileCard } from "@/components/elements/uploadthing/uploadthing-file-card";

export function FileDisplay() {
  return (
    <UploadThingFileCard
      name="document.pdf"
      size={1024 * 1024 * 2.5}
      type="application/pdf"
      url="https://example.com/document.pdf"
      onRemove={() => console.log("removed")}
    />
  );
}
```

### Paste Upload

Upload files via clipboard paste.

<ComponentPreviewItem
  componentKey="uploadthing-paste"
  installUrl="@elements/uploadthing-paste"
  category="File Upload"
  name="UploadThing Paste"
>
  <UploadThingPaste />
</ComponentPreviewItem>

```tsx
import { UploadThingPaste } from "@/components/elements/uploadthing/uploadthing-paste";

export function PasteUploader() {
  return (
    <UploadThingPaste
      onPaste={(files) => console.log("Pasted:", files)}
      accept={["image/*"]}
    >
      <p>Click and paste an image (Cmd+V)</p>
    </UploadThingPaste>
  );
}
```

### Progress Indicator

Upload progress with multiple variants.

<ComponentPreviewItem
  componentKey="uploadthing-progress"
  installUrl="@elements/uploadthing-progress"
  category="File Upload"
  name="UploadThing Progress"
>
  <UploadThingProgress />
</ComponentPreviewItem>

```tsx
import { UploadThingProgress } from "@/components/elements/uploadthing/uploadthing-progress";

export function UploadStatus() {
  return (
    <div className="space-y-4">
      <UploadThingProgress progress={65} variant="bar" />
      <UploadThingProgress progress={65} variant="ring" />
      <UploadThingProgress progress={65} variant="minimal" />
    </div>
  );
}
```

## Setup

### 1. Install

```bash
npm install uploadthing @uploadthing/react
```

### 2. Get API Keys

From [uploadthing.com](https://uploadthing.com) dashboard.

### 3. Environment Variables

```bash
UPLOADTHING_SECRET=sk_live_... # [!code highlight]
UPLOADTHING_APP_ID=your-app-id # [!code highlight]
```

### 4. File Router

```tsx
// app/elements/uploadthing/core.ts
import { createUploadthing, type FileRouter } from "uploadthing/next";

const f = createUploadthing();

export const ourFileRouter = {
  imageUploader: f({ image: { maxFileSize: "4MB" } }) // [!code highlight]
    .onUploadComplete(({ file }) => {
      console.log(file.url);
    }),
} satisfies FileRouter;

export type OurFileRouter = typeof ourFileRouter;
```

### 5. API Route

```tsx
// app/api/uploadthing/route.ts
import { createRouteHandler } from "uploadthing/next";
import { ourFileRouter } from "@/app/elements/uploadthing/core";

export const { GET, POST } = createRouteHandler({ // [!code highlight]
  router: ourFileRouter,
});
```

## File Types

```tsx
f({ image: { maxFileSize: "4MB" } })
f({ pdf: { maxFileSize: "8MB" } })
f({ video: { maxFileSize: "16MB" } })
f({ blob: { maxFileSize: "32MB" } })
```

## Callbacks

```tsx
onUploadComplete={(files) => {
  files.forEach(f => console.log(f.ufsUrl));
}}

onUploadError={(error) => {
  console.error(error.message);
}}
```

## Troubleshooting

**Upload fails:** Check API keys and route at `/api/uploadthing`

**File rejected:** Verify type in core.ts

## Resources

- [Docs](https://docs.uploadthing.com)
- [Dashboard](https://uploadthing.com/dashboard)
